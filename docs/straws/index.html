<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>STRAWS</title>

    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <!-- this is an ugly hack to get the yaml library to work -->
    <script type="module">
      import YAML from 'https://cdn.jsdelivr.net/npm/yaml@2.5.0/browser/index.min.js';
      function toYAML(obj) {
        return YAML.stringify(obj);
      }
      window.toYAML = toYAML;
    </script>
    <script src="helpers.js"></script>
    <script src="shapes.js"></script>
    <script src="components.js"></script>
    <script src="sketch.js"></script>
  </head>

  <body>
    <a href="..">back</a>
		<h1>Straws UI Prototype</h1>
    <table id="instructions">
      <tr>
        <td>
          <h2>Instructions</h2>
        </td>
        <td>
          <h2>Controls</h2>
        </td>
      </tr>
      <tr>
        <td>
          <ul>
            <li>Click buttons below to add components.</li>
            <li>Drag a component to move it.</li>
            <li>Drag from a source to a destination to create a connection.</li>
            <li>Click on a component to see its properties.</li>
            <li>See HPSF for the layout below.</li>
          </ul>
        </td>
        <td>
          <ul>
            <!-- <li><b>space</b>  -- pause and unpause the sketch.</li> -->
            <li><b>r/R</b>  -- restart the sketch/remove all connections.</li>
            <li><b>d</b>  -- delete the highlighted component or all connections using the highlighted port</li>
            <li><b>z/Z</b>  -- zoom in/out.</li>
            <li><b>j</b>  -- save HPSF as JSON.</li>
            <li><b>y</b>  -- save HPSF as YAML (with .txt extension, sadly).</li>
          </ul>
        </td>
      </tr>
    </table>
    <div id="button-holder"></div>
    <div id="selected-component">
    </div>
    <div id="sketch-holder">
    </div>
    <h2>HPSF from the graph</h2>
    <pre>
<code id="HPSF">
</code>
    </pre>
  </body>
</html>
